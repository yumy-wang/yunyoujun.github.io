const rootElement=document.documentElement,darkModeStorageKey="user-color-scheme",darkModeMediaQueryKey="--hty-mode",rootElementDarkModeAttributeName="data-user-color-scheme",setLS=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){}},removeLS=e=>{try{localStorage.removeItem(e)}catch(e){}},getLS=e=>{try{return localStorage.getItem(e)}catch(e){return null}},getModeFromCSSMediaQuery=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",resetRootDarkModeAttributeAndLS=()=>{rootElement.removeAttribute("data-user-color-scheme"),removeLS(darkModeStorageKey)},validColorModeKeys={dark:!0,light:!0},applyCustomDarkModeSettings=e=>{const t=e||getLS(darkModeStorageKey);t===getModeFromCSSMediaQuery()?resetRootDarkModeAttributeAndLS():validColorModeKeys[t]?rootElement.setAttribute("data-user-color-scheme",t):resetRootDarkModeAttributeAndLS()},invertDarkModeObj={dark:"light",light:"dark"},toggleCustomDarkMode=()=>{let e=getLS(darkModeStorageKey);if(validColorModeKeys[e])e=invertDarkModeObj[e];else{if(null!==e)return;e=invertDarkModeObj[getModeFromCSSMediaQuery()]}return setLS(darkModeStorageKey,e),e};applyCustomDarkModeSettings(),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("toggle-mode-btn").addEventListener("click",()=>{applyCustomDarkModeSettings(toggleCustomDarkMode())})});